# SaleWatcher Backend Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE
# =============================================================================

# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
# Railway provides this automatically when you add PostgreSQL
DATABASE_URL=postgresql://postgres:password@localhost:5432/salewatcher

# =============================================================================
# MILLED.COM CREDENTIALS
# =============================================================================

# Your Milled.com subscription login credentials
MILLED_EMAIL=your_email@example.com
MILLED_PASSWORD=your_milled_password

# =============================================================================
# ANTHROPIC API
# =============================================================================

# Your Anthropic API key for Claude
# Get one at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-...

# =============================================================================
# GOOGLE CALENDAR
# =============================================================================

# Service account credentials JSON (single line, escaped)
# Create a service account at: https://console.cloud.google.com/
# Enable Calendar API, download JSON key, paste contents here
GOOGLE_CREDENTIALS_JSON={"type":"service_account","project_id":"...","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"...@...iam.gserviceaccount.com","client_id":"...","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"..."}

# Calendar ID to sync predictions to
# Share your calendar with the service account email (from client_email above)
# Find calendar ID in Calendar Settings > Integrate calendar
GOOGLE_CALENDAR_ID=your_calendar_id@group.calendar.google.com

# =============================================================================
# EMAIL NOTIFICATIONS (Optional)
# =============================================================================

# Resend API key for sending emails
# Get one at: https://resend.com/
RESEND_API_KEY=re_...

# Email address to receive notifications
NOTIFICATION_EMAIL=your_email@example.com

# =============================================================================
# DASHBOARD
# =============================================================================

# URL of the deployed dashboard (for email links)
# Update after deploying to Vercel
DASHBOARD_URL=http://localhost:3000

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Days before predicted sale to create calendar event
CALENDAR_ALERT_DAYS=7

# Minimum discount percentage to track
MIN_DISCOUNT_THRESHOLD=20

# LLM confidence threshold for review queue
REVIEW_QUEUE_THRESHOLD=0.5

# LLM confidence threshold for Sonnet fallback
SONNET_FALLBACK_THRESHOLD=0.7
